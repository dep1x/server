<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="css/checkbox.css" media="screen">
		<link rel="stylesheet" type="text/css" href="css/main.css" media="screen">
		<!-- init css form -->
		<link href="http://lsfivem.com/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="css/theme.css" rel="stylesheet" media="screen">
    <script src="https://code.jquery.com/jquery-3.2.1.js"></script>
		<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
		<link rel="stylesheet" type="text/css" href="css/forms.css" media="screen">
	</head>
  <body>

  <div class="logo_login" style="display:none"><img src="images/merch/logo1_lsfivem1.png" width="400" height="150"/></div>

  <div class="logo_global" style="display:none"><img src="images/merch/logo1_lsfivem2.png" /></div>

	<div id="help_active" style="display:none">
		MAINMENU: /mm</p>
	</div>

  <div id="info_form" style="display:none">
    <div class="text-center">
      <div id="info_form_messages">

      </div>
    </div>
  </div>

	<div class="stats_game_block" style="display:none">
		<div class="money">0$</div>
		<div class="hungry">0%</div>
	</div>

	<div id="webplayer_form" style="display:none;">
		<div class="text-center">
			<h1>Радиостанция</h1>
			<div class="form-group">
				<audio src="http://185.58.204.232:8000/evolve.ogg" controls crossorigin="anonymous"></audio> <br>
				<button class="btn btn-primary" id="radio_close">Скрыть</button>
			</div>
		</div>
	</div>

	<div id="alogin_form" style="display:none;">
		<div class="text-center">
			<h1>Авторизация</h1>
			<div class="form-group">
				<label>Пароль</label>
				<input type="text" class="form-control" id="alogin_password" maxlength="32" />
			</div>
			<div class="form-group">
				<button class="btn btn-primary" id="alogin_send">Войти</button> <button class="btn btn-primary" id="alogin_close">Закрыть</button>
			</div>
		</div>
	</div>

  <div id="drugs_form" style="display:none;">
    <div class="text-center">
      <h1>Приобрести наркотики</h1>
      <div class="form-group">
        <label>Количество</label>
        <input type="text" class="form-control" id="drugs_count" maxlength="3" pattern="[0-9]{3}" />
      </div>
      <div class="form-group">
        <button class="btn btn-primary" id="buy_drugs">Приобрести</button> <button class="btn btn-primary" id="drugs_close">Отказаться</button>
      </div>
    </div>
  </div>

	<div id="rent_form" style="display:none;">
		<div class="text-center">
			<h1>Аренда автомобиля</h1>
			<div class="form-group">
				<label>Стоимость аренды <span id="rent"></span>$</label>
			</div>
			<div class="form-group">
				<button class="btn btn-primary" id="rent_okay">Арендовать</button> <button class="btn btn-primary" id="rent_close">Отказаться</button>
			</div>
		</div>
	</div>

  <div id="login_form" style="display:none">
    <form rel="gameauth">
      <div class="text-center">
        <center>
          <div class="text-center">
            <ul class="nav nav-tabs">
              <li id="auth_form_1" class="active"><a href="#">Авторизация</a></li>
              <li id="auth_form_2"><a href="#">Регистрация</a></li>
            </ul>
          </div>
        </center><br>
        <div id="auth_active_form_auth" style="display:block;">
          <div class="form-group">
            <label>Имя_Фамилия</label>
            <input type="text" class="form-control" id="auth_username" maxlength="24" />
          </div>
          <div class="form-group">
            <label>Пароль</label>
            <input type="password" class="form-control" id="auth_password" maxlength="32" />
          </div>
          <div class="form-group">
            <button class="btn btn-primary" id="select_person">Войти в игру</button>
          </div>
        </div>
        <div id="auth_active_form_testing" style="display:none;">

        </div>
        <div id="auth_active_form_register" style="display:none;">
          <div class="form-group">
            <label>Имя_Фамилия</label>
            <input type="text" class="form-control" id="reg_username" maxlength="24" />
          </div>
          <div class="form-group">
            <label>Пароль</label>
            <input type="password" class="form-control" id="reg_password" maxlength="32" />
          </div>
          <div class="form-group">
            <label>Повторите пароль</label>
            <input type="password" class="form-control" id="reg_repeat_password" maxlength="32" />
          </div>
          <div class="form-group">
            <label>Пол</label>
            <div class="radio">
              <p><input type="radio" class="reg_sex" name="sex" data-sex="0" /> Мужчина &nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp&nbsp<input type="radio" name="sex" class="reg_sex" data-sex="1" /> Женщина</p> <br>
            </div>
          </div>
          <div class="form-group">
            <button class="btn btn-primary" id="register_person">Зарегистрироваться</button>
          </div>
        </div>
      </div>
    </form>
  </div>

  <div id="character_form_create" style="display:none">
    <form rel="personauth">
      <div class="text-center">
        <h1>Редактор персонажа</h1>
        <div class="form-group">
          <div id="content">
            <center>
              <div class="text-center">
                <ul class="nav nav-tabs">
                  <li id="editor_tab_1" class="active"><a href="#">Базовое</a></li>
                  <li id="editor_tab_2"><a href="#">Лицо</a></li>
                  <li id="editor_tab_3"><a href="#">Прическа</a></li>
                </ul>
              </div>
            </center>
            <div id="editor_active_1" style="display:block;">
              <h2>Наследовательность</h2>
              <p>От мамы <div id="slider_face_1" title=""></div></p><br>
              <p>От папы <div id="slider_face_2" title=""></div></p><br>
              <h2>Форма лица</h2>
              <div id="slider_face_3" title=""></div><br>
              <h2>Цвет кожи</h2>
              <div id="slider_color_1" title=""></div><br>
            </div>
            <div id="editor_active_2" style="display:none;">
              <h2>Нос</h2>
              <div id="slider_nose_1" title=""></div><br>
              <div id="slider_nose_2" title=""></div><br>
              <div id="slider_nose_3" title=""></div><br>
              <div id="slider_nose_4" title=""></div><br>
              <div id="slider_nose_5" title=""></div><br>
              <h2>Брови</h2>
              <div id="slider_brow_1" title=""></div><br>
              <div id="slider_brow_2" title=""></div><br>
              <h2>Глаза</h2>
              <div id="slider_eye_1" title=""></div><br>
              <h2>Губы</h2>
              <div id="slider_lips_1" title=""></div><br>
            </div>
            <div id="editor_active_3" style="display:none;">
              <h2>Волосы</h2>
              <div id="slider_hair_1" title=""></div><br>
              <div id="slider_hair_2" title=""></div><br>
            </div>
             <p><div id="dialog" title="Добро пожаловать!">Перед созданием персонажа, пожалуйста убедитесь в правильности выбранных вами параметров, подтверждая создание персонажа, ваш персонаж остается неизмененным, следующее изменение возможно в специализированных игровых салонах.</p>
            </div>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-primary" id="create_person">Создать персонажа</button>
        </div>
      </div>
    </form>
  </div>

  <div id="store_form_clothes" style="display:none">
    <form rel="personauth">
      <div class="text-center">
        <h1>Магазин одежды</h1>
        <div class="form-group">
          <div id="content">
            <center>
              <div class="text-center">
                <ul class="nav nav-tabs">
                  <li id="store_tab_1" class="active"><a href="#">Одежда</a></li>
                  <li id="store_tab_2"><a href="#">Прочее</a></li>
                </ul>
              </div>
            </center>
            <div id="store_active_1" style="display:block;">
              <h2>Голова</h2>
              <div id="store_complect_1" title=""></div><br>
              <h2>Тело</h2>
              <div id="store_complect_2" title=""></div><br>
              <div id="store_complect_3" title=""></div><br>
              <h2>Ноги</h2>
              <div id="store_complect_4" title=""></div><br>
              <h2>Ступни</h2>
              <div id="store_complect_5" title=""></div><br>
            </div>
						<div id="store_active_2" style="display:none;">
							<h2>Шляпы</h2>
							<div id="store_complect_6" title=""></div><br>
							<h2>Очки</h2>
							<div id="store_complect_7" title=""></div><br>
							<h2>Серьги</h2>
							<div id="store_complect_8" title=""></div><br>
							<h2>Часы</h2>
							<div id="store_complect_9" title=""></div><br>
							<h2>Браслеты</h2>
							<div id="store_complect_10" title=""></div><br>
						</div>
            <div id="editor_active_2" style="display:none;">
              <form rel="delclothes">
                <div class="form-group">
                  <button class="btn btn-primary" id="#">Снять одежду на голове</button>
                  <button class="btn btn-primary" id="#">Снять одежду на теле</button>
                  <button class="btn btn-primary" id="#">Снять одежду на ногах</button>
                  <button class="btn btn-primary" id="#">Снять одежду на ступнях</button><br>
                </div>
              </form>
            </div>
          </div>
        </div>
        <div class="form-group">
          <button class="btn btn-primary" id="store_accept">Применить</button>
          <button class="btn btn-primary" id="store_exit">Выйти</button>
        </div>
      </div>
    </form>
  </div>

  <div id="mainmenu_form" style="display:none;">
    <div class="m_menu" id="m_menu_1">Мой персонаж</div>
		<div class="m_menu" id="m_menu_2">Настройки персонажа</div>
    <div class="m_menu" id="m_menu_3">Поддержка</div>
    <div class="m_menu" id="m_menu_4">Донат</div>
    <div class="m_menu" id="m_menu_5">Свернуть</div>
  </div>

  <div id="mainmenu_form_settings" style="display:none;">
    <h1>Настройки персонажа</h1>
		<form for="settings">
			<div class="form-group">
				<h3>Личные вещи</h3>
				<button class="btn btn-primary" id="settings_remove_1">Снять с головы</button> <button class="btn btn-primary" id="settings_remove_2">Раздеть торс</button> <button class="btn btn-primary" id="settings_remove_3">Раздеть ноги</button> <button class="btn btn-primary" id="settings_remove_4">Раздеть ступни</button>
				<h3>Аксессуары</h3>
				<button class="btn btn-primary" id="settings_remove_5">Снять головной убор</button> <button class="btn btn-primary" id="settings_remove_6">Снять очки</button> <button class="btn btn-primary" id="settings_remove_7">Снять серьги</button> <button class="btn btn-primary" id="settings_remove_8">Снять часы</button> <button class="btn btn-primary" id="settings_remove_9">Снять браслеты</button>
			</div>
		</form>
  </div>

  <div id="mainmenu_form_stats_1" style="display:none;">
    <h1>Статистика персонажа</h1>
    <table id="update_stats_1" style="width: 100%; text-align: center;">

    </table>
  </div>

  <div id="mainmenu_form_helper" style="display:none;">
    <div class="text-center">
      <h1>Связь с администрацией</h1>
      <div class="form-group">
        <label>Сообщение</label>
        <input type="text" class="form-control" id="staff_message" maxlength="120" />
      </div>
      <div class="form-group">
        <button class="btn btn-primary" id="send_staff_message">Отправить</button> <button class="btn btn-primary" id="close_staff">Назад</button>
      </div>
    </div>
  </div>

  <div id="calls_form" style="display:none;">
    <div class="c_menu" id="c_menu_1">Такси</div>
    <div class="c_menu" id="c_menu_2">Полиция</div>
    <div class="c_menu" id="c_menu_3">Закрыть</div>
  </div>

  <div id="calls_form_about_taxi" style="display:none;">
    <div class="text-center">
      <h1>Причина вызова такси</h1>
      <div class="form-group">
        <label>Сообщение</label>
        <input type="text" class="form-control" id="taxi_message" maxlength="120" />
      </div>
      <div class="form-group">
        <button class="btn btn-primary" id="send_taxi_message">Отправить</button> <button class="btn btn-primary" id="close_call_1">Закрыть</button>
      </div>
    </div>
  </div>

  <div id="calls_form_about_police" style="display:none;">
    <div class="text-center">
      <h1>Причина вызова полиции</h1>
      <div class="form-group">
        <label>Сообщение</label>
        <input type="text" class="form-control" id="police_message" maxlength="120" />
      </div>
      <div class="form-group">
        <button class="btn btn-primary" id="send_police_message">Отправить</button> <button class="btn btn-primary" id="close_call_2">Закрыть</button>
      </div>
    </div>
  </div>

	<div id="mainmenu_form_donate" style="display:none;">
		<div class="text-center">
			<h1>Донат</h1>
			<div class="form-group">
				<label>Введите первый код</label>
				<input type="text" class="form-control" id="donate1_message" maxlength="120" />
			</div>
			<div class="form-group">
				<label>Введите второй код</label>
				<input type="text" class="form-control" id="donate2_message" maxlength="120" />
			</div>
			<div class="form-group">
				<button class="btn btn-primary" id="send_donate_codes">Проверить</button> <button class="btn btn-primary" id="close_donates">Закрыть</button>
			</div>
		</div>
	</div>

	<div id="gun_panel_police" style="display:none;">
		<div class="text-center">
			<h1>Снаряжение</h1>
			<div class="g2_menu" id="g2_menu_1">Heavy Pistol</div>
			<div class="g2_menu" id="g2_menu_2">Bullpup Rifle Mk II</div>
			<div class="g2_menu" id="g2_menu_3">SMG Mk II</div>
			<div class="g2_menu" id="g2_menu_4">Heavy Sniper</div>
			<div class="g2_menu" id="g2_menu_5">Assault Shotgun</div>
			<div class="g2_menu" id="g2_menu_6">Carbine Rifle Mk II</div>
			<div class="g2_menu" id="g2_menu_10">Закрыть</div>
		</div>
	</div>

	<div id="npanel_form" style="display:none;">
		<div class="text-center">
			<h1>Weazel News</h1>
			<div class="n_menu" id="n_menu_1">Объявления</div>
			<div class="n_menu" id="n_menu_2">Прямой эфир</div>
			<div class="n_menu" id="n_menu_3">Закрыть</div>
		</div>
	</div>

	<div id="npanel_form_ads" style="display:none;">
		<div class="text-center">
			<h1>Объявления</h1>
			<table id="npanel_table" class="table text-center">
			</table>
			<button class="btn btn-primary" id="ads_update">Обновить</button> <button class="btn btn-primary" id="ads_close">Назад</button>
		</div>
	</div>

  <div id="idcard_form_stats_1" style="display:none;">
    <h1>ID-Card</h1>
    <table id="update_stats_10" style="width: 100%; text-align: center;">

    </table>
  </div>

  <div id="house_form" style="display:none;">
    <h1 id="house_number"></h1>
    <div id="house_data1"></div>
    <div id="house_data2"></div>
  </div>

  <div id="control_object" style="display:none;">
    <div class="selector" id="s_obj_1">X+</div><div class="selector" id="s_obj_2">X-</div>
    <div class="selector" id="s_obj_3">Y+</div><div class="selector" id="s_obj_4">Y-</div>
    <div class="selector" id="s_obj_5">Z+</div><div class="selector" id="s_obj_6">Z-</div>
  </div>

  <div id="police_mdc" style="display:none;">
    <h1>MDC</h1>

  </div>

  <div id="speedometr_form" style="display:none;">
    <h2><span id="vehicle_name"></span></h2>
    <h2><span id="vehicle_speed">N/A</span> MP/h</h2>
  </div>

  <script>

  function show_wrong_form(formid, wrongid) {
    if(parseInt(formid) == 0) {
      $("#login_form").fadeOut(1000);
      if(parseInt(wrongid) == 1) {
        $('#info_form_messages').text("Одно из полей формы является незаполненным");
      } else if(parseInt(wrongid) == 2) {
        $('#info_form_messages').text("Имя персонажа должно иметь вид: Name_Surname");
      } else if(parseInt(wrongid) == 3) {
        $('#info_form_messages').text("Введенные вами пароли не совпадают");
      } else if(parseInt(wrongid) == 4) {
        $('#info_form_messages').text("Пароль должен быть более 6-ти символов");
      } else if(parseInt(wrongid) == 5) {
        $('#info_form_messages').text("Некоректный формат заполнения формы");
      } else if(parseInt(wrongid) == 6) {
        $('#info_form_messages').text("Персонаж с данным именем уже существует");
      } else if(parseInt(wrongid) == 7) {
        $('#info_form_messages').text("Ваш IP адрес заблокирован. Обратитесь по адресу https://support.lsfivem.com");
      } else if(parseInt(wrongid) == 8) {
        $('#info_form_messages').text("Регистрация отключена. Попробуйте позднее.");
      }
      $('#auth_form_1').attr('class','none');
      $('#auth_form_2').attr('class','active');
      $('#auth_active_form_register').attr('style','display:block;');
      $('#auth_active_form_auth').attr('style','display:none;');
			$('#auth_active_form_testing').attr('style','display:none;');
      $("#info_form").fadeIn(2000);
      setTimeout(reset_form, 5000, 0);
    } else if(parseInt(formid) == 1) {
      $("#login_form").fadeOut(1000);
      if(parseInt(wrongid) == 1) {
        $('#info_form_messages').text("Выбранный вами персонаж не найден");
      } else if(parseInt(wrongid) == 2) {
        $('#info_form_messages').text("Неверные данные при авторизации");
      } else if(parseInt(wrongid) == 3) {
        $('#info_form_messages').text("Авторизация запрещена");
      } else if(parseInt(wrongid) == 4) {
        $('#info_form_messages').text("Данный персонаж заблокирован. Свяжитесь с сотрудниками на форуме lsfivem.com");
      } else if(parseInt(wrongid) == 5) {
        $('#info_form_messages').text("Ваш IP адрес заблокирован. Обратитесь по адресу https://support.lsfivem.com");
      }
      $("#info_form").fadeIn(2000);
      setTimeout(reset_form, 5000, 0);
    } else if(parseInt(formid) == 2) {
      $("#login_form").fadeOut(1000);
      if(parseInt(wrongid) == 1) {
        $('#info_form_messages').text("Игровой мод сервера еще не загрузился. Попробуйте зайти через несколько секунд. Нажмите F1 для выхода в лаунчер!");
      } else if(parseInt(wrongid) == 2) {
				$('#info_form_messages').text("Вы были отключены от сервера за слишком частые запросы!");
			} else if(parseInt(wrongid) == 3) {
				$('#info_form_messages').text("Вы были отключены от сервера за многократное повторение ошибок!");
			}
      $("#info_form").fadeIn(2000);
      //setTimeout(reset_form, 5000, 0);
    } else if(parseInt(formid) == 3) {
      $("#login_form").fadeOut(1000);
      if(parseInt(wrongid) == 1) {
        $('#info_form_messages').text("Вы заполнели не все ответы, попробуйте еще раз");
      } else if(parseInt(wrongid) == 2) {
        $('#info_form_messages').text("Один из вариантов ответов, является неправильным");
      }
      $("#info_form").fadeIn(2000);
      setTimeout(reset_form, 5000, 0);
    }
  }

  function show_success_form(formid, successid) {
    if(parseInt(formid) == 0) {
      $("#login_form").fadeOut(1000);
      if(parseInt(successid) == 1) {
        $('#info_form_messages').text("Регистрация завершена");
      }
      $('#auth_form_1').attr('class','active');
      $('#auth_form_2').attr('class','');
      $('#auth_active_form_auth').attr('style','display:block;');
      $('#auth_active_form_register').attr('style','display:none;');
      $("#info_form").fadeIn(2000);
      setTimeout(reset_form, 5000, 0);
    } else if(parseInt(formid) == 1) {
      $("#character_form").fadeOut(1000);
      if(parseInt(successid) == 1) {
        $('#info_form_messages').text("Выбранный вами персонаж не найден");
      }
      $("#info_form").fadeIn(2000);
      setTimeout(reset_form, 5000, 0);
    }
  }

  function reset_form(formid) {

    $("#info_form").fadeOut(1000);

    if(parseInt(formid) == 0) {
      $("#login_form").fadeIn(2000);
    }

    $('#register_person').one('click', function (event) {
      event.preventDefault();
      if(non_auth === 0) {
        let get_name = $('#reg_username').val();
        let get_password_1 = $('#reg_password').val();
        let get_password_2 = $('#reg_repeat_password').val();
        let get_sex = $('input[name="sex"]:checked').attr("data-sex");
        if(get_name != "" && get_password_1 != "" && get_password_2 != "") {
          if(get_name.indexOf("_") > 0) {
            if(get_password_1 == get_password_2) {
							if(get_password_1.length >= 6) {
								if(get_name.search(/[А-яЁё]/) === -1 && get_password_1.search(/[А-яЁё]/) === -1) {
	              	mp.trigger('cefData', 'register_person', get_name, get_password_1, get_sex);
								} else {
									show_wrong_form(0, 5);
								}
							} else {
								show_wrong_form(0, 4);
							}
            } else {
              show_wrong_form(0, 3);
            }
          } else {
            show_wrong_form(0, 2);
          }
        } else {
          show_wrong_form(0, 1);
        }
      }
    });

    $('#select_person').one('click', function (event) {
      event.preventDefault();
      if(non_auth === 0) {
        let get_name = $('#auth_username').val();
        let get_password = $('#auth_password').val();
        mp.trigger('cefData', 'select_person', get_name, get_password);
      }
    });

  }

  function reset_form2() {

  }

  $(document).ready(function() {

    reset_form();

		var settings_remove_var1 = 0; settings_remove_var2 = 0; settings_remove_var3 = 0; settings_remove_var4 = 0; settings_remove_var5 = 0; settings_remove_var6 = 0; settings_remove_var7 = 0; settings_remove_var8 = 0; settings_remove_var9 = 0;

		function reset_game_form(type) {

			if(type == 1) {
				$('#create_person').one('click', function (event) {
		      event.preventDefault();
		      if(non_auth === 0) {
		        mp.trigger('cefData', 'create_person');
		      }
		    });
			} else if(type == 2) {
				$('#close_staff').attr("disabled", false);
				$('#close_staff').one('click', function (event) {
					event.preventDefault();
					$('#close_staff').attr("disabled", true);
					$("#mainmenu_form_helper").fadeOut(1000);
					mp.trigger('showMainMenu_click', 5);
					mainmenu_open = 0;
					reset_game_form(2);
				});
			} else if(type == 3) {
				$('#send_staff_message').attr("disabled", false);
				$('#send_staff_message').one('click', function (event) {
					event.preventDefault();
					$('#send_staff_message').attr("disabled", true);
					$("#mainmenu_form_helper").fadeOut(1000);
					mp.trigger('cefData', 'send_staff_message', $('#staff_message').val());
					mp.trigger('showMainMenu_click', 5);
					mainmenu_open = 0;
					$('#staff_message').val('');
					reset_game_form(3);
				});
			} else if(type == 4) {
				$('#send_donate_codes').attr("disabled", false);
				$('#send_donate_codes').one('click', function (event) {
					event.preventDefault();
					$('#send_donate_codes').attr("disabled", true);
					$("#mainmenu_form_donate").fadeOut(1000);
					mp.trigger('cefData', 'send_donate_codes', $('#donate1_message').val(), $('#donate2_message').val());
					mp.trigger('showCallMenu_click', 3);
					$('#send_donate_codes').val('');
					mainmenu_open = 0;
					reset_game_form(4);
				});
			} else if(type == 5) {
				$('#close_donates').attr("disabled", false);
				$('#close_donates').one('click', function (event) {
					event.preventDefault();
					$('#close_donates').attr("disabled", true);
					$("#mainmenu_form_donate").fadeOut(1000);
					mp.trigger('showCallMenu_click', 3);
					mainmenu_open = 0;
					reset_game_form(5);
				});
			} else if(type == 6) {
				$('#send_taxi_message').attr("disabled", false);
				$('#send_taxi_message').one('click', function (event) {
					event.preventDefault();
					$('#send_taxi_message').attr("disabled", true);
					$("#calls_form_about_taxi").fadeOut(1000);
					mp.trigger('cefData', 'send_taxi_message', $('#taxi_message').val());
					mp.trigger('showCallMenu_click', 3);
					mainmenu_open = 0;
					$('#send_taxi_message').val('');
					reset_game_form(6);
				});
			} else if(type == 7) {
				$('#send_police_message').attr("disabled", false);
				$('#send_police_message').one('click', function (event) {
					event.preventDefault();
					$('#send_police_message').attr("disabled", true);
					$("#calls_form_about_police").fadeOut(1000);
					mp.trigger('cefData', 'send_police_message', $('#police_message').val());
					mp.trigger('showCallMenu_click', 3);
					mainmenu_open = 0;
					reset_game_form(7);
				});
			} else if(type == 8) {
				$('#close_call_1').attr("disabled", false);
				$('#close_call_1').one('click', function (event) {
					event.preventDefault();
					$('#close_call_1').attr("disabled", true);
					$("#calls_form_about_taxi").fadeOut(1000);
					mp.trigger('showCallMenu_click', 3);
					mainmenu_open = 0;
					reset_game_form(8);
				});
			} else if(type == 9) {
				$('#close_call_2').attr("disabled", false);
				$('#close_call_2').one('click', function (event) {
					event.preventDefault();
					$('#close_call_2').attr("disabled", true);
					$("#calls_form_about_police").fadeOut(1000);
					mp.trigger('showCallMenu_click', 3);
					mainmenu_open = 0;
					reset_game_form(9);
				});
			} else if(type == 10) {
				$('#settings_remove_1').one('click', function (event) {
					event.preventDefault();
					if(settings_remove_var1 == 0) {
						$('#settings_remove_1').html('Одеть на голову');
						mp.trigger('cefData', 'settings_character', 1, 1);
						settings_remove_var1 = 1;
					} else {
						$('#settings_remove_1').html('Снять с головы');
						mp.trigger('cefData', 'settings_character', 1, 0);
						settings_remove_var1 = 0;
					}
					reset_game_form(10);
				});
			} else if(type == 11) {
				$('#settings_remove_2').one('click', function (event) {
					event.preventDefault();
					if(settings_remove_var2 == 0) {
						$('#settings_remove_2').html('Одеть торс');
						mp.trigger('cefData', 'settings_character', 2, 1);
						settings_remove_var2 = 1;
					} else {
						$('#settings_remove_2').html('Раздеть торс');
						mp.trigger('cefData', 'settings_character', 2, 0);
						settings_remove_var2 = 0;
					}
					reset_game_form(11);
				});
			} else if(type == 12) {
				$('#settings_remove_3').one('click', function (event) {
					event.preventDefault();
					if(settings_remove_var3 == 0) {
						$('#settings_remove_3').html('Одеть ноги');
						mp.trigger('cefData', 'settings_character', 3, 1);
						settings_remove_var3 = 1;
					} else {
						$('#settings_remove_3').html('Раздеть ноги');
						mp.trigger('cefData', 'settings_character', 3, 0);
						settings_remove_var3 = 0;
					}
					reset_game_form(12);
				});
			} else if(type == 13) {
				$('#settings_remove_4').one('click', function (event) {
					event.preventDefault();
					if(settings_remove_var4 == 0) {
						$('#settings_remove_4').html('Одеть ступни');
						mp.trigger('cefData', 'settings_character', 4, 1);
						settings_remove_var4 = 1;
					} else {
						$('#settings_remove_4').html('Раздеть ступни');
						mp.trigger('cefData', 'settings_character', 4, 0);
						settings_remove_var4 = 0;
					}
					reset_game_form(13);
				});
			} else if(type == 14) {
				$('#ads_update').one('click', function (event) {
					event.preventDefault();
					mp.trigger('cefData', 'weazel_ads_update', 1);
					reset_game_form(14);
				});
			} else if(type == 15) {
				$('#ads_close').one('click', function (event) {
					event.preventDefault();
					$('#npanel_form_ads').fadeOut(1000);
					mp.trigger('cefData', 'chat', 2);
					mp.invoke("focus", false);
					reset_game_form(15);
				});
			} else if(type == 16) {
				$('#buy_drugs').one('click', function (event) {
					event.preventDefault();
					var get_count = $('#drugs_count').val();
					mp.trigger('cefData', 'buy_drugs', get_count);
					$('#drugs_form').fadeOut(1000);
					mp.trigger('cefData', 'chat', 2);
					mp.invoke("focus", false);
					reset_game_form(16);
				});
			} else if(type == 17) {
				$('#drugs_close').one('click', function (event) {
					event.preventDefault();
					$('#drugs_form').fadeOut(1000);
					mp.trigger('cefData', 'chat', 2);
					mp.invoke("focus", false);
					reset_game_form(17);
				});
			} else if(type == 18) {
				$('#radio_close').one('click', function (event) {
					event.preventDefault();
					$('#webplayer_form').fadeOut(1000);
					mp.trigger('cefData', 'chat', 2);
					mp.invoke("focus", false);
					reset_game_form(18);
				});
			} else if(type == 19) {
				$('#settings_remove_5').one('click', function (event) {
					event.preventDefault();
					if(settings_remove_var5 == 0) {
						$('#settings_remove_5').html('Одеть головной убор');
						mp.trigger('cefData', 'settings_character', 5, 1);
						settings_remove_var5 = 1;
					} else {
						$('#settings_remove_5').html('Снять головной убор');
						mp.trigger('cefData', 'settings_character', 5, 0);
						settings_remove_var5 = 0;
					}
					reset_game_form(19);
				});
			} else if(type == 20) {
				$('#settings_remove_6').one('click', function (event) {
					event.preventDefault();
					if(settings_remove_var6 == 0) {
						$('#settings_remove_6').html('Одеть очки');
						mp.trigger('cefData', 'settings_character', 6, 1);
						settings_remove_var6 = 1;
					} else {
						$('#settings_remove_5').html('Снять очки');
						mp.trigger('cefData', 'settings_character', 6, 0);
						settings_remove_var6 = 0;
					}
					reset_game_form(20);
				});
			} else if(type == 21) {
				$('#settings_remove_7').one('click', function (event) {
					event.preventDefault();
					if(settings_remove_var7 == 0) {
						$('#settings_remove_7').html('Одеть серьги');
						mp.trigger('cefData', 'settings_character', 7, 1);
						settings_remove_var7 = 1;
					} else {
						$('#settings_remove_7').html('Снять серьги');
						mp.trigger('cefData', 'settings_character', 7, 0);
						settings_remove_var7 = 0;
					}
					reset_game_form(21);
				});
			} else if(type == 22) {
				$('#settings_remove_8').one('click', function (event) {
					event.preventDefault();
					if(settings_remove_var8 == 0) {
						$('#settings_remove_8').html('Одеть часы');
						mp.trigger('cefData', 'settings_character', 8, 1);
						settings_remove_var8 = 1;
					} else {
						$('#settings_remove_8').html('Снять часы');
						mp.trigger('cefData', 'settings_character', 8, 0);
						settings_remove_var8 = 0;
					}
					reset_game_form(22);
				});
			} else if(type == 23) {
				$('#settings_remove_9').one('click', function (event) {
					event.preventDefault();
					if(settings_remove_var9 == 0) {
						$('#settings_remove_9').html('Одеть браслеты');
						mp.trigger('cefData', 'settings_character', 9, 1);
						settings_remove_var9 = 1;
					} else {
						$('#settings_remove_9').html('Снять браслеты');
						mp.trigger('cefData', 'settings_character', 9, 0);
						settings_remove_var9 = 0;
					}
					reset_game_form(23);
				});
			} else if(type == 24) {
				$('#g2_menu_1').one('click', function (event) {
					event.preventDefault();
					mp.trigger('cefData', 'get_fraction_gun', 1);
					reset_game_form(24);
				});
			} else if(type == 25) {
				$('#g2_menu_2').one('click', function (event) {
					event.preventDefault();
					mp.trigger('cefData', 'get_fraction_gun', 2);
					reset_game_form(25);
				});
			} else if(type == 26) {
				$('#g2_menu_3').one('click', function (event) {
					event.preventDefault();
					mp.trigger('cefData', 'get_fraction_gun', 3);
					reset_game_form(26);
				});
			} else if(type == 27) {
				$('#g2_menu_4').one('click', function (event) {
					event.preventDefault();
					mp.trigger('cefData', 'get_fraction_gun', 4);
					reset_game_form(27);
				});
			} else if(type == 28) {
				$('#g2_menu_5').one('click', function (event) {
					event.preventDefault();
					mp.trigger('cefData', 'get_fraction_gun', 5);
					reset_game_form(28);
				});
			} else if(type == 29) {
				$('#g2_menu_6').one('click', function (event) {
					event.preventDefault();
					mp.trigger('cefData', 'get_fraction_gun', 6);
					reset_game_form(29);
				});
			} else if(type == 30) {
				$('#g2_menu_10').one('click', function (event) {
					event.preventDefault();
					$('#gun_panel_police').fadeOut(1000);
					mp.trigger('cefData', 'chat', 2);
					mp.invoke("focus", false);
					reset_game_form(30);
				});
			} else if(type == 31) {
				$('#alogin_send').attr("disabled", false);
				$('#alogin_send').one('click', function (event) {
					event.preventDefault();
					var password = $('#alogin_password').val();
					mp.trigger('cefData', 'alogin', password);
					$('#alogin_send').attr("disabled", true);
					$('#alogin_form').fadeOut(1000);
					mp.trigger('cefData', 'chat', 2);
					mp.invoke("focus", false);
					reset_game_form(31);
				});
			} else if(type == 32) {
				$('#alogin_close').one('click', function (event) {
					event.preventDefault();
					$('#alogin_form').fadeOut(1000);
					mp.trigger('cefData', 'chat', 2);
					mp.invoke("focus", false);
					reset_game_form(32);
				});
			}
		}

		for(let formgameload = 1; formgameload < 33; formgameload++) {
			reset_game_form(formgameload);
		}

  });

  function show_create_person(sex) {
    $('.logo_login').attr('style','display:none');
    $('.logo_global').attr('style','display:block');
    mp.trigger('cefData', 'camera', 999);
    mp.trigger('cefData', 'camera', 2);
    $("#login_form").fadeOut(1000);
    $( function() {
     $( "#dialog" ).dialog();
    });
    $( function() {
     $(document).tooltip();
    });
    $("#character_form_create").fadeIn(2000);
    $(".race").click(function () {
      let race = $("input[name='race']:checked").val();
    });

    let face_1 = 1;
    let face_2 = 1;
    let face_3 = 1;
    let peg_color = 1;
    let hair_color_1 = 1;
    let hair_color_2 = 1;

    let nose_height = -1;
    let nose_width = -1;
    let nose_lenght = -1;
    let nose_bridge = -1;
    let nose_tip = -1;
    let nose_shift = -1;
    let brow_height = -1;
    let brow_width = -1;
    let eye = -1;
    let lips = -1;
    let jew_height = -1;
    let jew_width = -1;
    let chin_height_widht = -1;

    $( "#slider_face_1" ).slider({
      range: "min",
      value: 1,
      min: 1,
      max: 45,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        face_1 = ui.value;
        mp.trigger('cefData', 'editor_person_data_blend', face_1, face_2, face_3, peg_color);
        $("#slider_face_1").attr('title', ui.value);
      }
    });

    $( "#slider_face_2" ).slider({
      range: "min",
      value: 1,
      min: 1,
      max: 45,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        face_2 = ui.value;
        mp.trigger('cefData', 'editor_person_data_blend', face_1, face_2, face_3, peg_color);
        $("#slider_face_2").attr('title', ui.value);
      }
    });

		if(sex == 0) {

	    $( "#slider_face_3" ).slider({
	      range: "min",
	      value: 1,
	      min: 1,
	      max: 20,
	      slide: function( event, ui ) {
	        if(active_view_camera == 0) {
	          mp.trigger('cefData', 'camera', 3);
	          active_view_camera = 1;
	        }
	        face_3 = ui.value;
	        mp.trigger('cefData', 'editor_person_data_blend', face_1, face_2, face_3, peg_color);
	        $("#slider_face_3").attr('title', ui.value);
	      }
	    });

		} else if(sex == 1) {

			$( "#slider_face_3" ).slider({
				range: "min",
				value: 21,
				min: 21,
				max: 40,
				slide: function( event, ui ) {
					if(active_view_camera == 0) {
						mp.trigger('cefData', 'camera', 3);
						active_view_camera = 1;
					}
					face_3 = ui.value;
					mp.trigger('cefData', 'editor_person_data_blend', face_1, face_2, face_3, peg_color);
					$("#slider_face_3").attr('title', ui.value);
				}
			});

		}

    $( "#slider_color_1" ).slider({
      range: "min",
      value: 1,
      min: 1,
      max: 50,
      slide: function( event, ui ) {
        peg_color = ui.value;
        mp.trigger('cefData', 'editor_person_data_blend', face_1, face_2, face_3, peg_color);
        $("#slider_color_1").attr('title', ui.value);
      }
    });

    $( "#slider_hair_1" ).slider({
      range: "min",
      value: 1,
      min: 1,
      max: 36,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        hair_color_1 = ui.value;
        mp.trigger('cefData', 'editor_person_data_hair', 2, hair_color_1, hair_color_2);
        $("#slider_color_1").attr('title', ui.value);
      }
    });

    $( "#slider_hair_2" ).slider({
      range: "min",
      value: 1,
      min: 1,
      max: 63,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        hair_color_2 = ui.value;
        mp.trigger('cefData', 'editor_person_data_hair', 2, hair_color_1, hair_color_2);
        $("#slider_color_1").attr('title', ui.value);
      }
    });

    $( "#slider_nose_1" ).slider({
      range: "min",
      value: -1,
      min: -1,
      step: 0.1,
      max: 1,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        nose_height = ui.value;
        mp.trigger('cefData', 'editor_person_data_face', 1, nose_height);
        $("#slider_nose_1").attr('title', ui.value);
      }
    });

    $( "#slider_nose_2" ).slider({
      range: "min",
      value: -1,
      min: -1,
      step: 0.1,
      max: 1,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        nose_width = ui.value;
        mp.trigger('cefData', 'editor_person_data_face', 2, nose_width);
        $("#slider_nose_2").attr('title', ui.value);
      }
    });

    $( "#slider_nose_3" ).slider({
      range: "min",
      value: -1,
      min: -1,
      step: 0.1,
      max: 1,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        nose_lenght = ui.value;
        mp.trigger('cefData', 'editor_person_data_face', 3, nose_lenght);
        $("#slider_nose_3").attr('title', ui.value);
      }
    });

    $( "#slider_nose_4" ).slider({
      range: "min",
      value: -1,
      min: -1,
      step: 0.1,
      max: 1,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        nose_bridge = ui.value;
        mp.trigger('cefData', 'editor_person_data_face', 4, nose_bridge);
        $("#slider_nose_4").attr('title', ui.value);
      }
    });

    $( "#slider_nose_5" ).slider({
      range: "min",
      value: -1,
      min: -1,
      step: 0.1,
      max: 1,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        nose_tip = ui.value;
        mp.trigger('cefData', 'editor_person_data_face', 5, nose_tip);
        $("#slider_nose_5").attr('title', ui.value);
      }
    });

    $( "#slider_nose_6" ).slider({
      range: "min",
      value: -1,
      min: -1,
      step: 0.1,
      max: 1,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        nose_shift = ui.value;
        mp.trigger('cefData', 'editor_person_data_face', 6, nose_shift);
        $("#slider_nose_5").attr('title', ui.value);
      }
    });

    $( "#slider_brow_1" ).slider({
      range: "min",
      value: -1,
      min: -1,
      step: 0.1,
      max: 1,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        brow_height = ui.value;
        mp.trigger('cefData', 'editor_person_data_face', 6, brow_height);
      }
    });

    $( "#slider_brow_2" ).slider({
      range: "min",
      value: -1,
      min: -1,
      step: 0.1,
      max: 1,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        brow_width = ui.value;
        mp.trigger('cefData', 'editor_person_data_face', 7, brow_width);
      }
    });

    $( "#slider_eye_1" ).slider({
      range: "min",
      value: -1,
      min: -1,
      step: 0.1,
      max: 1,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        eye = ui.value;
        mp.trigger('cefData', 'editor_person_data_face', 11, eye);
      }
    });

    $( "#slider_lips_1" ).slider({
      range: "min",
      value: -1,
      min: -1,
      step: 0.1,
      max: 1,
      slide: function( event, ui ) {
        if(active_view_camera == 0) {
          mp.trigger('cefData', 'camera', 3);
          active_view_camera = 1;
        }
        lips = ui.value;
        mp.trigger('cefData', 'editor_person_data_face', 12, lips);
      }
    });
  }

  function show_end_person() {
    $('.logo_global').attr('style','display:block');
    $('.stats_game_block').attr('style','display:block');
    $('#chat').attr('style', 'background: black;');
    $('#chat').attr('style', 'font-size: 56px;');
    non_auth = 1;
    mp.trigger('cefData', 'camera', 999);
    mp.trigger('cefData', 'chat', 2);
    mp.invoke("focus", false);
    $("#character_form").fadeOut(1000);
    $("#character_form_create").fadeOut(1000);
    $("#login_form").fadeOut(1000);
    $(".logo_login").fadeOut(1000);
    //$("#help_active").fadeIn(1000);
  }

  var non_auth = 0;
  var timerspeed = 0;
  var windowstatus = 0;
  var chat = 0;
  var online = 0;
  var mainmenu_open = 0;
  var othermenu_open = 0;
  var active_view_camera = 0;
	var active_test_page = 0;

  $( document ).ready(function() {

    $('#m_menu_1').click( function () {
      mp.trigger('showMainMenu_click', 1);
      mainmenu_open = 1;
    });

    $('#m_menu_2').click( function () {
      mp.trigger('showMainMenu_click', 2);
      mainmenu_open = 1;
    });

    $('#m_menu_3').click( function () {
      mp.trigger('showMainMenu_click', 3);
    });

		$('#m_menu_4').click( function () {
			mp.trigger('showMainMenu_click', 4);
		});

    $('#m_menu_5').click( function () {
      mp.trigger('showMainMenu_click', 5);
      mainmenu_open = 0;
    });

    $('#c_menu_1').click( function () {
      mp.trigger('showCallMenu_click', 1);
    });

    $('#c_menu_2').click( function () {
      mp.trigger('showCallMenu_click', 2);
    });

    $('#c_menu_3').click( function () {
      mp.trigger('showCallMenu_click', 3);
    });

		$('#n_menu_1').click( function () {
			mp.trigger('showNPanel_click', 1);
		});

		$('#n_menu_2').click( function () {
			mp.trigger('showNPanel_click', 2);
		});

		$('#n_menu_3').click( function () {
			mp.trigger('showNPanel_click', 3);
		});

    $('#s_obj_1').click( function () {
      mp.trigger('cefData', 'manageObject', 1);
    });

    $('#s_obj_2').click( function () {
      mp.trigger('cefData', 'manageObject', 2);
    });

    $('#s_obj_3').click( function () {
      mp.trigger('cefData', 'manageObject', 3);
    });

    $('#s_obj_4').click( function () {
      mp.trigger('cefData', 'manageObject', 4);
    });

    $('#s_obj_5').click( function () {
      mp.trigger('cefData', 'manageObject', 5);
    });

    $('#s_obj_6').click( function () {
      mp.trigger('cefData', 'manageObject', 6);
    });

    $('#auth_form_1').click( function () {
      $('#auth_form_1').attr('class','active');
      $('#auth_form_2').attr('class','');
      $('#auth_active_form_auth').attr('style','display:block;');
      $('#auth_active_form_testing').attr('style','display:none;');
			$('#auth_active_form_register').attr('style','display:none;');
    });

    $('#auth_form_2').click( function () {
      mp.trigger('cefData', 'registrationQuestions');
      $('#auth_form_1').attr('class','');
      $('#auth_form_2').attr('class','active');
      $('#auth_active_form_auth').attr('style','display:none;');
      $('#auth_active_form_testing').attr('style','display:block;');
    });

    $('#editor_tab_1').click( function () {
      $('#editor_tab_1').attr('class','active');
      $('#editor_tab_2').attr('class','');
      $('#editor_tab_3').attr('class','');
      $('#editor_active_1').attr('style','display:block;');
      $('#editor_active_2').attr('style','display:none;');
      $('#editor_active_3').attr('style','display:none;');
      if(active_view_camera == 1) {
        active_view_camera = 0;
        mp.trigger('cefData', 'camera', 2);
      }
    });

    $('#editor_tab_2').click( function () {
      $('#editor_tab_1').attr('class','');
      $('#editor_tab_2').attr('class','active');
      $('#editor_tab_3').attr('class','');
      $('#editor_active_1').attr('style','display:none;');
      $('#editor_active_2').attr('style','display:block;');
      $('#editor_active_3').attr('style','display:none;');
      if(active_view_camera == 1) {
        active_view_camera = 0;
        mp.trigger('cefData', 'camera', 2);
      }
    });

    $('#editor_tab_3').click( function () {
      $('#editor_tab_1').attr('class','');
      $('#editor_tab_2').attr('class','');
      $('#editor_tab_3').attr('class','active');
      $('#editor_active_1').attr('style','display:none;');
      $('#editor_active_2').attr('style','display:none;');
      $('#editor_active_3').attr('style','display:block;');
      if(active_view_camera == 1) {
        active_view_camera = 0;
        mp.trigger('cefData', 'camera', 2);
      }
    });

    $('#store_tab_1').click( function () {
      $('#store_tab_1').attr('class','active');
      $('#store_tab_2').attr('class','');
      $('#store_active_1').attr('style','display:block;');
      $('#store_active_2').attr('style','display:none;');
      if(active_view_camera == 1) {
        active_view_camera = 0;
        mp.trigger('cefData', 'camera', 5);
      }
    });

    $('#store_tab_2').click( function () {
      $('#store_tab_1').attr('class','');
      $('#store_tab_2').attr('class','active');
      $('#store_active_1').attr('style','display:none;');
      $('#store_active_2').attr('style','display:block;');
      if(active_view_camera == 1) {
        active_view_camera = 0;
        mp.trigger('cefData', 'camera', 5);
      }
    });

    if(non_auth === 0) {
      $(".logo_login").fadeIn(2000);
      $('.logo_login').attr('style','display:block');
      $("#login_form").fadeIn(1500);
      $('#login_form').attr('style','display:block');
      mp.invoke("focus", true);
    }

    });

    $("html").keydown(function(e) {
      if(e.which == 8) {
        if(mainmenu_open === 1) {
          mp.trigger('showMainMenu', 2);
          mainmenu_open = 0;
        }

        if(othermenu_open === 1) {
          $('#idcard_form_stats_1').fadeOut(1000);
          $('#house_form').fadeOut(1000);
          mp.trigger('cefData', 'chat', 2);
          mp.invoke("focus", false);
        }
      }
    });

		function registerTesting(countq, questions) {
			$('#auth_active_form_testing').html("Loading...");
			var get_questions = JSON.parse(questions);
			var answers = "";
			template_test = "<form for='test'><div id='test_active_1' style='display: block;'>";
			for(i = 0; i < countq; i++) {
				if(i == 2) {
					template_test = template_test + `<div class="form-group"><button class="btn btn-primary" id="next_page">Далее</button></div></div>`;
					template_test = template_test + `<div id='test_active_2' style='display: none;'>`;
				} else if(i == 4) {
					template_test = template_test + `<div class="form-group"><button class="btn btn-primary" id="next_page_2">Далее</button></div></div>`;
					template_test = template_test + `<div id='test_active_3' style='display: none;'>`;
				} else if(i == 6) {
					template_test = template_test + `<div class="form-group"><button class="btn btn-primary" id="next_page_3">Далее</button></div></div>`;
					template_test = template_test + `<div id='test_active_4' style='display: none;'>`;
				} else if(i == 8) {
					template_test = template_test + `<div class="form-group"><button class="btn btn-primary" id="next_page_4">Далее</button></div></div>`;
					template_test = template_test + `<div id='test_active_5' style='display: none;'>`;
				}
				template_test = template_test + `<div class="form-group"><h3>${get_questions[i].question}</h3>`;
				answers = get_questions[i].answers;
				for(m = 0; m < answers.length; m++) {
					template_test = template_test +
					`<label class="custom-control custom-radio">
					  <input data-ans="${i}_${m}" name="${i}" type="radio" class="custom-control-input">
					  <span class="custom-control-indicator"></span>
					  <span class="custom-control-description">${answers[m]}</span>
					</label><br>`;
				}
				/*
				if(i == 3 || i == 5 || i == 7 || i == 9) {
					template_test = template_test + `<div class="form-group"><button class="btn btn-primary" id="prev_page">Назад</button></div>`;
				}
				*/
				template_test = template_test + "</div>";
			}
			template_test = template_test + `</div><div class="form-group"><span id="insert_back"></span> <button class="btn btn-primary" id="check_ans">Проверить ответы</button></div></form>`;

			$('#auth_active_form_testing').html(template_test);

			function prev_page() {
				$('#prev_page').click( function (event) {
					event.preventDefault();
					active_test_page = 0;
					$('#test_active_1').attr('style', 'display:block;');
					$('#test_active_2').attr('style', 'display:none;');
					$('#test_active_3').attr('style', 'display:none;');
					$('#test_active_4').attr('style', 'display:none;');
					$('#test_active_5').attr('style', 'display:none;');
					$('#insert_back').html('');
					$('#prev_page').click( function (event) {
						event.preventDefault();
						active_test_page = 0;
						$('#test_active_1').attr('style', 'display:block;');
						$('#test_active_2').attr('style', 'display:none;');
						$('#test_active_3').attr('style', 'display:none;');
						$('#test_active_4').attr('style', 'display:none;');
						$('#test_active_5').attr('style', 'display:none;');
						$('#insert_back').html('');
					});
				});
			}

			$('#next_page').click( function (event) {
				event.preventDefault();
				if(active_test_page == 0) {
					active_test_page = 1;
					$('#test_active_1').attr('style', 'display:none;');
					$('#test_active_2').attr('style', 'display:block;');
					$('#test_active_3').attr('style', 'display:none;');
					$('#test_active_4').attr('style', 'display:none;');
					$('#test_active_5').attr('style', 'display:none;');
					$('#insert_back').html('<button class="btn btn-primary" id="prev_page">Назад</button>');
					prev_page();
				}
			});

			$('#next_page_2').click( function (event) {
				event.preventDefault();
				if(active_test_page == 1) {
					active_test_page = 2;
					$('#test_active_1').attr('style', 'display:none;');
					$('#test_active_2').attr('style', 'display:none;');
					$('#test_active_3').attr('style', 'display:block;');
					$('#test_active_4').attr('style', 'display:none;');
					$('#test_active_5').attr('style', 'display:none;');
					$('#insert_back').html('<button class="btn btn-primary" id="prev_page">Назад</button>');
					prev_page();
				}
			});

			$('#next_page_3').click( function (event) {
				event.preventDefault();
				if(active_test_page == 2) {
					active_test_page = 3;
					$('#test_active_1').attr('style', 'display:none;');
					$('#test_active_2').attr('style', 'display:none;');
					$('#test_active_3').attr('style', 'display:none;');
					$('#test_active_4').attr('style', 'display:block;');
					$('#test_active_5').attr('style', 'display:none;');
					$('#insert_back').html('<button class="btn btn-primary" id="prev_page">Назад</button>');
					prev_page();
				}
			});

			$('#next_page_4').click( function (event) {
				event.preventDefault();
				if(active_test_page == 3) {
					active_test_page = 4;
					$('#test_active_1').attr('style', 'display:none;');
					$('#test_active_2').attr('style', 'display:none;');
					$('#test_active_3').attr('style', 'display:none;');
					$('#test_active_4').attr('style', 'display:none;');
					$('#test_active_5').attr('style', 'display:block;');
					$('#insert_back').html('<button class="btn btn-primary" id="prev_page">Назад</button>');
					prev_page();
				}
			});

			$('#check_ans').click( function (event) {
				event.preventDefault();
				var gen_array = new Array(countq);
				for(var i = 0; i < countq; i++) {
					gen_array[i] = $(`input[name='${i}']:checked`).attr('data-ans');
				}
				gen_array = JSON.stringify(gen_array);
				mp.trigger('cefData', 'registrationCheckAnswers', gen_array);
			});

		}

		function registerTestingEnd() {
			$('#test_active_1').attr('style', 'display:none;');
			$('#test_active_2').attr('style', 'display:none;');
			$('#test_active_3').attr('style', 'display:none;');
			$('#test_active_4').attr('style', 'display:none;');
			$('#test_active_5').attr('style', 'display:none;');
			$('#insert_back').html('');
			$('#auth_active_form_testing').fadeOut(1000);
			$('#auth_active_form_register').fadeIn(1000);
		}

		function updateStatsMain(money, hungry) {
			$('.money').html(money + '$');
			$('.hungry').html(hungry + '%');
		}

		function updateStats_1(username, sex, level, exp, money, victim, respect, zavisim, drugs, materials, job, fraction, f_rang, gang, g_rang) {
			let text = `<tr><td>Имя_Фамилия:</td><td>${username}</td></tr><tr><td>Пол:</td><td>${sex}</td></tr><tr><tr><td>Уровень:</td><td>${level}</td><tr><td>Опыт:</td><td>${exp}</td></tr></tr><td>Денежных средств:</td><td>${money}$</td></tr><tr><td>Преступлений:</td><td>${victim}</td></tr><tr><td>Уважение:</td><td>${respect}%</td></tr><tr><td>Зависимость:</td><td>${zavisim}</td></tr><tr><td>Наркотиков:</td><td>${drugs} шт.</td></tr><tr><td>Материалов:</td><td>${materials} шт.</td></tr><tr><td>Работа:</td><td>${job}</td></tr><tr><td>Организация:</td><td>${fraction}</td></tr><tr><td>Ранг:</td><td>${f_rang}</td></tr><tr><td>Банда:</td><td>${gang}</td></tr><tr><td>Авторитет:</td><td>${g_rang}</td></tr>`;
			$('#update_stats_1').html(text);
		}

		function updateStats_10(username, sex, victim, respect, fraction, rang, job) {
			let text = `<tr><td>Имя_Фамилия:</td><td>${username}</td></tr><tr><td>Пол:</td><td>${sex}</td></tr><tr><td>Преступлений:</td><td>${victim}</td></tr><tr><td>Уважение:</td><td>${respect}%</td></tr><tr><td>Работа:</td><td>${job}</td></tr><tr><td>Организация:</td><td>${fraction}</td></tr><tr><td>Ранг:</td><td>${rang}</td></tr>`;
			$('#update_stats_10').html(text);
			function close_idcard() {
				$('#idcard_form_stats_1').fadeOut(1000);
			}
			setTimeout(close_idcard, 10000);
		}

    function updateVehicleName(name) {
      $('#vehicle_name').html(name);
    }

    function updateVehicleSpeedAction1() {
      mp.trigger('updateSpeedometr_2');
    }

    function updateVehicleSpeedAction2(speed) {
      $('#vehicle_speed').html(speed);
      //$('#vehicle_speed').html(speed);
    }

    function updateVehicleSpeed(state) {
      if(state == 1) {
        timerspeed = setInterval(updateVehicleSpeedAction1, 100);
      } else if(state == 2) {
        clearInterval(timerspeed);
      }
    }

		function rentTransForm(coast) {
			$('#rent_form').fadeIn(1000);
			$('#rent').html(coast);
			$('#rent_okay').attr("disabled", false);
			mp.trigger('cefData', 'chat', 1);
			mp.invoke("focus", true);
			$('#rent_okay').one('click', function (event) {
				event.preventDefault();
				$('#rent_okay').attr("disabled", true);
				$("#rent_form").fadeOut(1000);
				mp.trigger('cefData', 'chat', 2);
				mp.invoke("focus", false);
				mp.trigger('cefData', 'send_rent_car', 1);
			});
			$('#rent_close').one('click', function (event) {
				event.preventDefault();
				$('#rent_okay').attr("disabled", true);
				$("#rent_form").fadeOut(1000);
				mp.trigger('cefData', 'chat', 2);
				mp.invoke("focus", false);
				mp.trigger('cefData', 'send_rent_car', 2);
			});
		}

		function store_view() {
			mp.trigger('cefData', 'camera', 999);
			mp.trigger('cefData', 'camera', 5);
			$( function() {
			 $(document).tooltip();
			});

			$("#store_form_clothes").fadeIn(1000);

			let complect_1 = 1;
			let complect_2 = 1;
			let complect_3 = 1;
			let complect_4 = 1;
			let complect_5 = 1;
			let complect_6 = 1;
			let complect_7 = 1;
			let complect_8 = 1;
			let complect_9 = 1;
			let complect_10 = 1;
			let complect_color = 0;

			// голова
			$( "#store_complect_1" ).slider({
				range: "min",
				value: 0,
				min: 1,
				max: 128,
				slide: function( event, ui ) {
					complect_1 = ui.value;
					mp.trigger('cefData', 'store_complect_1', complect_1);
					$("#store_complect_1").attr('title', ui.value);
				}
			});

			// тело 1

			$( "#store_complect_2" ).slider({
				range: "min",
				value: 0,
				min: 1,
				max: 17,
				slide: function( event, ui ) {
					complect_2 = ui.value;
					mp.trigger('cefData', 'store_complect_2', complect_2);
					$("#store_complect_2").attr('title', ui.value);
				}
			});

			// тело 2

			$( "#store_complect_3" ).slider({
				range: "min",
				value: 0,
				min: 1,
				max: 3,
				slide: function( event, ui ) {
					complect_3 = ui.value;
					mp.trigger('cefData', 'store_complect_3', complect_3);
					$("#store_complect_3").attr('title', ui.value);
				}
			});

			// штаны

			$( "#store_complect_4" ).slider({
				range: "min",
				value: 0,
				min: 1,
				max: 83,
				slide: function( event, ui ) {
          complect_4 = ui.value;
					mp.trigger('cefData', 'store_complect_4', complect_4);
					$("#store_complect_4").attr('title', ui.value);
				}
			});

			// ступни

			$( "#store_complect_5" ).slider({
				range: "min",
				value: 0,
				min: 1,
				max: 5,
				slide: function( event, ui ) {
          complect_5 = ui.value;
					mp.trigger('cefData', 'store_complect_5', complect_5);
					$("#store_complect_5").attr('title', ui.value);
				}
			});

			$( "#store_complect_6" ).slider({
				range: "min",
				value: 0,
				min: 1,
				max: 102,
				slide: function( event, ui ) {
					complect_6 = ui.value;
					mp.trigger('cefData', 'store_complect_6', complect_6);
					$("#store_complect_6").attr('title', ui.value);
				}
			});

			$( "#store_complect_7" ).slider({
				range: "min",
				value: 0,
				min: 1,
				max: 25,
				slide: function( event, ui ) {
					complect_7 = ui.value;
					mp.trigger('cefData', 'store_complect_7', complect_7);
					$("#store_complect_7").attr('title', ui.value);
				}
			});

			$( "#store_complect_8" ).slider({
				range: "min",
				value: 0,
				min: 1,
				max: 17,
				slide: function( event, ui ) {
					complect_8 = ui.value;
					mp.trigger('cefData', 'store_complect_8', complect_8);
					$("#store_complect_8").attr('title', ui.value);
				}
			});

			$( "#store_complect_9" ).slider({
				range: "min",
				value: 0,
				min: 1,
				max: 18,
				slide: function( event, ui ) {
					complect_9 = ui.value;
					mp.trigger('cefData', 'store_complect_9', complect_9);
					$("#store_complect_9").attr('title', ui.value);
				}
			});

			$( "#store_complect_10" ).slider({
				range: "min",
				value: 0,
				min: 1,
				max: 7,
				slide: function( event, ui ) {
					complect_10 = ui.value;
					mp.trigger('cefData', 'store_complect_10', complect_10);
					$("#store_complect_10").attr('title', ui.value);
				}
			});

			// цвет

			$( "#store_color" ).slider({
				range: "min",
				value: 0,
				min: 0,
				max: 8,
				slide: function( event, ui ) {
					complect_color = ui.value;
					mp.trigger('cefData', 'store_complect_color', complect_color);
					$("#store_color").attr('title', ui.value);
				}
			});

			$('#store_accept').click( function (e) {
				e.preventDefault();
				mp.trigger('cefData', 'store_accept', 2);
				$('#store_form_clothes').fadeOut(1000);
				mp.trigger('cefData', 'chat', 2);
				mp.invoke("focus", false);
				mp.trigger('cefData', 'camera', 999);
			});

			$('#store_exit').click( function (e) {
				e.preventDefault();
				mp.trigger('cefData', 'store_exit', 2);
				$('#store_form_clothes').fadeOut(1000);
				mp.trigger('cefData', 'chat', 2);
				mp.invoke("focus", false);
				mp.trigger('cefData', 'camera', 999);
			});
		}

		function showAdsUpdate(result) {
			function get_name_month(mouth) {
				switch(mouth) {
					case 1: mouth = "Январь"; break; case 2: mouth = "Февраль"; break; case 3: mouth = "Март"; break;
					case 4: mouth = "Апрель"; break; case 5: mouth = "Май"; break; case 6: mouth = "Июнь"; break;
					case 7: mouth = "Июль"; break; case 8: mouth = "Август"; break; case 9: mouth = "Сентябрь"; break;
					case 10: mouth = "Октябрь"; case 11: mouth = "Ноябрь"; break; case 12: mouth = "Декабрь";
				}
				return mouth;
			}
			let content = '';
			let content_2 = '';
			let full_table = ``;
			if(result == "UNKNOWN") {
				content = "<h3>Объявлений не найдено</h3>";
				$('#npanel_table').html(content);
			} else {
				let ads = JSON.parse(result);
				$('#npanel_table').html('<th>#</th><th>Прислал</th><th>Текст</th><th>Дата подачи</th><th>Действие</th>');
				content = $('#npanel_table').html();
				for(var i = 0; i < ads.length; i++) {
					let fixdate = new Date(ads[i].date);
					fixdate = fixdate.getDate() + " " + get_name_month(fixdate.getMonth()) + " " + fixdate.getHours() + ":" + fixdate.getMinutes() + ":" + fixdate.getSeconds();
					content_2 += '<tr><td>' + ads[i].id + '</td><td>' + ads[i].author + '</td><td><textarea class="ads_m_' + ads[i].id + ' form-control">' + ads[i].message + '</textarea></td><td>' + fixdate + '</td><td><button class="btn btn-success" data-id="' + ads[i].id + '" data-author="' + ads[i].author + '" data-editor="tellarion">Редактировать</button> <button class="btn btn-danger" data-id="' + ads[i].id + '" class="ads_delete" data-editor2="tellarion">Удалить</button></td></tr>';
				}
				$('#npanel_table').html(content);
				$('#npanel_table').append(content_2);
				$('[data-editor]').one('click', function (event) {
					event.preventDefault();
					var get_id = $(this).attr('data-id');
					var get_author = $(this).attr('data-author');
					var get_message = $(`.ads_m_${get_id}`).val();
					mp.trigger('cefData', 'weazel_ads_edit', get_id, get_author, get_message);
					$('#npanel_table').html('<h3>Выполнено. Для обновления списка нажмите кнопку.</h3>');
				});
				$('[data-editor2]').one('click', function (event) {
					event.preventDefault();
					var get_id = $(this).attr('data-id');
					mp.trigger('cefData', 'weazel_ads_delete', get_id);
				});
				//reset_game_form(17);
			}
		}

    function showHouseForm(houseid, house_info1, house_info2) {
      $('#house_number').html("Дом №" + houseid);
      $('#house_data1').html(house_info1);
      $('#house_data2').html(house_info2);
      $('#house_form').fadeIn(2000);
      mp.trigger('cefData', 'chat', 1);
      mp.invoke("focus", true);
      $('#h_menu_1').click( function () {
        mp.trigger('cefData', 'enter_house', houseid);
        $('#house_form').fadeOut(1000);
        mp.trigger('cefData', 'chat', 2);
        mp.invoke("focus", false);
      });

      $('#h_menu_2').click( function () {
        mp.trigger('cefData', 'enter_garage', houseid);
        $('#house_form').fadeOut(1000);
        mp.trigger('cefData', 'chat', 2);
        mp.invoke("focus", false);
      });

      $('#h_menu_666').click( function () {
        mp.trigger('cefData', 'buy_house', houseid);
        $('#house_form').fadeOut(1000);
        mp.trigger('cefData', 'chat', 2);
        mp.invoke("focus", false);
      });

			$('#h_menu_exit').click( function () {
				$('#house_form').fadeOut(1000);
				mp.trigger('cefData', 'chat', 2);
				mp.invoke("focus", false);
			});
    }
  </script>
</body>

</html>
